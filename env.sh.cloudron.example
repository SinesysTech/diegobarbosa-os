#!/bin/bash
# =============================================================================
# CLOUDRON - Variaveis de Ambiente para Producao
# =============================================================================
# Este arquivo deve ser colocado em /app/data/env.sh no Cloudron.
#
# Como configurar:
#   1. Abra o File Manager do Cloudron (icone de pasta no app)
#   2. Crie o arquivo /app/data/env.sh
#   3. Cole o conteudo abaixo com seus valores reais
#   4. Reinicie a aplicacao
#
# Alternativa via CLI:
#   cloudron env set --app app.example.com KEY1=value1 KEY2=value2
#
# IMPORTANTE: Variaveis definidas via 'cloudron env set' ja ficam em
# process.env automaticamente. Este arquivo eh para quando voce quer
# gerenciar todas as vars em um unico lugar persistente.
# =============================================================================

# -----------------------------------------------------------------------------
# SUPABASE (Obrigatorias)
# -----------------------------------------------------------------------------
export NEXT_PUBLIC_SUPABASE_URL="https://seu-projeto.supabase.co"
export NEXT_PUBLIC_SUPABASE_PUBLISHABLE_OR_ANON_KEY="sua_anon_key"
export SUPABASE_SECRET_KEY="sua_secret_key"

# Supabase Management API (para metricas)
export SUPABASE_PROJECT_REF="seu_project_ref"
export SUPABASE_ACCESS_TOKEN="seu_access_token"

# -----------------------------------------------------------------------------
# AUTENTICACAO DE SISTEMA (Obrigatoria)
# -----------------------------------------------------------------------------
export SERVICE_API_KEY="sua_api_key_segura"

# -----------------------------------------------------------------------------
# AI / EMBEDDINGS (Obrigatoria para busca semantica)
# -----------------------------------------------------------------------------
export OPENAI_API_KEY="sk-..."
export OPENAI_EMBEDDING_MODEL="text-embedding-3-small"
export ENABLE_AI_INDEXING="true"

# AI Gateway (para editor Plate.js)
export AI_GATEWAY_API_KEY="sua_chave"

# Google API
export GOOGLE_API_KEY="sua_chave_google"

# -----------------------------------------------------------------------------
# REDIS - Cache Distribuido (Opcional)
# -----------------------------------------------------------------------------
export ENABLE_REDIS_CACHE="true"
export REDIS_URL="redis://host:porta"
export REDIS_PASSWORD="sua_senha"
export REDIS_CACHE_TTL="600"
export REDIS_CACHE_MAX_MEMORY="256mb"

# -----------------------------------------------------------------------------
# 2FAUTH - PJE (Opcional)
# -----------------------------------------------------------------------------
export TWOFAUTH_API_URL="https://seu-2fauth.com/api/v1"
export TWOFAUTH_API_TOKEN="seu_token"
export TWOFAUTH_ACCOUNT_ID="1"

# -----------------------------------------------------------------------------
# STORAGE - Backblaze B2 (Opcional)
# -----------------------------------------------------------------------------
# export STORAGE_PROVIDER="backblaze"
# export B2_ENDPOINT="https://s3.us-east-005.backblazeb2.com"
# export B2_REGION="us-east-005"
# export B2_BUCKET="seu-bucket"
# export B2_KEY_ID="seu_key_id"
# export B2_APPLICATION_KEY="sua_key"

# -----------------------------------------------------------------------------
# DYTE - Video/Audio (Opcional)
# -----------------------------------------------------------------------------
# export NEXT_PUBLIC_DYTE_ORG_ID="sua_org_id"
# export DYTE_API_KEY="sua_api_key"

# -----------------------------------------------------------------------------
# CRON JOBS (Obrigatorio para agendamentos)
# -----------------------------------------------------------------------------
export CRON_SECRET="seu_cron_secret"

# -----------------------------------------------------------------------------
# SEGURANCA (Producao)
# -----------------------------------------------------------------------------
export RATE_LIMIT_FAIL_MODE="closed"
export IP_BLOCKING_ENABLED="true"
export IP_WHITELIST="127.0.0.1,::1"
export CSP_REPORT_ONLY="true"

# -----------------------------------------------------------------------------
# MCP SERVER (Opcional)
# -----------------------------------------------------------------------------
# export MCP_SINESYS_API_URL="https://seu-dominio.com"
# export MCP_SINESYS_API_KEY="sua_api_key"

# -----------------------------------------------------------------------------
# BROWSER SERVICE (Opcional - para scraping PJE)
# -----------------------------------------------------------------------------
# export BROWSER_WS_ENDPOINT=""
# export BROWSER_SERVICE_URL=""
# export BROWSER_SERVICE_TOKEN=""

# -----------------------------------------------------------------------------
# CHATWOOT (Opcional)
# -----------------------------------------------------------------------------
# export CHATWOOT_API_URL="https://seu-chatwoot.com"
# export CHATWOOT_API_KEY="seu_token"
# export CHATWOOT_ACCOUNT_ID="1"
# export CHATWOOT_DEFAULT_INBOX_ID="1"
